{% extends 'riasec/riasec_base.html' %}


{% block title %}Riasec{% endblock %}

{% block content %}
<header>
    {% include 'riasec/riasec_navbar/navbar.html' %}
</header>
<div class="container-fluid">
    <div class="row">
        {% if result %}
        {% for obj in result %}

        <div class="d-flex justify-content-between mt-2 mb-2">
            <h1>Your Record</h1>
            <div class="d-flex align-items-center">
                <a href="{% url 'riasec:delete_record' obj.user obj.pk %}" class="btn btn-danger me-3" type="button"
                   data-bs-toggle="modal" data-bs-target="#exampleModal">Delete Record</a>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Delete Record</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close">
                                </button>
                            </div>
                            <div class="modal-body">
                                Are you sure to Delete this record?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <a href="{% url 'riasec:delete_record' obj.user obj.pk %}" class="btn btn-danger me-3">Delete</a>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="{% url 'riasec:test' %}" class="btn btn-take-test ">Take the test again
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-chevron-double-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                              d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"/>
                        <path fill-rule="evenodd"
                              d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"/>
                    </svg>
                </a>
            </div>
        </div>
        <div class="accordion accordion-flush mb-3 mt-2" id="accordion_id">
            <div class="accordion-item">
                <h2 class="accordion-header" id="heading_id">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapse_{{forloop.counter}}" aria-expanded="false"
                            aria-controls="collapseOne">
                        <div class="d-flex justify-content-between">
                            <div> click to see result</div>
                        </div>
                    </button>
                </h2>
                <div id="collapse_{{forloop.counter}}" class="accordion-collapse collapse" aria-labelledby="heading_id"
                     data-bs-parent="#accordion_id">
                    <div class="accordion-body">
                        <div class="card">
                            <div class="card-header">
                                <p class="d-flex justify-content-end text-muted mb-0">Last test: {{obj.date_created}}
                                </p>
                            </div>
                            <div class="card-body">
                                <blockquote class="blockquote mb-0">
                                    <div class="row">
                                        <div class="col">
                                            <p id="r">Realistic: {{obj.realistic|floatformat:1}}</p>
                                            <p id="i">Investigative: {{obj.investigative|floatformat:1}}</p>
                                            <p id="a">Artistic: {{obj.artistic|floatformat:1}}</p>
                                            <p id="s">Social: {{obj.social|floatformat:1}}</p>
                                            <p id="e">Enterprising: {{obj.enterprising|floatformat:1}}</p>
                                            <p id="c">Conventional: {{obj.conventional|floatformat:1}}</p>
                                        </div>
                                        <div class="col">
                                            <h3>Top 3 interest with highest scores</h3>
                                            <ul>
                                                {% for key, value in ranks.items %}
                                                <li>{{key|title}}: {{value|floatformat:1}}</li>
                                                {% endfor %}
                                            </ul>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="chart-container" style="height:30vh; width:30vw" >
                                        <canvas id="barChart" ></canvas>
                                    </div>
                                    <hr>
                                    <div class="chart-container" style="height:50vh; width:30vw" >
                                        <canvas id="pieChart" ></canvas>
                                    </div>
                                     <script>
    let barChart = document.getElementById('barChart').getContext('2d');
    // Global Options
    Chart.defaults.global.defaultFontFamily = 'Lato';
    Chart.defaults.global.defaultFontSize = 18;
    Chart.defaults.global.defaultFontColor = '#777';

    let riasecBarChart = new Chart(barChart, {
      type:'bar', // bar, horizontalBar, pie, line, doughnut, radar, polarArea
      data:{
        labels:['Realistic', 'Investigative', 'Artistic', 'Social', 'Enterprising', 'Conventional'],
        datasets:[{
          label:'Result',
          data:[
            {{obj.realistic|floatformat:1}},
            {{obj.investigative|floatformat:1}},
            {{obj.artistic|floatformat:1}},
            {{obj.social|floatformat:1}},
            {{obj.enterprising|floatformat:1}},
            {{obj.conventional|floatformat:1}}
          ],
          backgroundColor:[
            'rgba(255, 99, 132, 0.6)',
            'rgba(54, 162, 235, 0.6)',
            'rgba(255, 206, 86, 0.6)',
            'rgba(75, 192, 192, 0.6)',
            'rgba(153, 102, 255, 0.6)',
            'rgba(255, 159, 64, 0.6)',
            'rgba(255, 99, 132, 0.6)'
          ],
          borderWidth:1,
          borderColor:'#777',
          hoverBorderWidth:3,
          hoverBorderColor:'#000'
        }]
      },
      options:{
        title:{
          display:true,
          text:'Bar Chart',
          fontSize:25
        },
        legend:{
          display:false,
          position:'right',
          labels:{
            fontColor:'#000'
          }
        },
        layout:{
          padding:{
            left:50,
            right:0,
            bottom:0,
            top:0
          }
        },
        tooltips:{
          enabled:true
        }
      }
    });
    let riasecPieChart = new Chart(pieChart, {
      type:'pie', // bar, horizontalBar, pie, line, doughnut, radar, polarArea
      data:{
        labels:['Realistic', 'Investigative', 'Artistic', 'Social', 'Enterprising', 'Conventional'],
        datasets:[{
          label:'Result',
          data:[
            {{obj.realistic|floatformat:1}},
            {{obj.investigative|floatformat:1}},
            {{obj.artistic|floatformat:1}},
            {{obj.social|floatformat:1}},
            {{obj.enterprising|floatformat:1}},
            {{obj.conventional|floatformat:1}}
          ],
          backgroundColor:[
            'rgba(255, 99, 132, 0.6)',
            'rgba(54, 162, 235, 0.6)',
            'rgba(255, 206, 86, 0.6)',
            'rgba(75, 192, 192, 0.6)',
            'rgba(153, 102, 255, 0.6)',
            'rgba(255, 159, 64, 0.6)',
            'rgba(255, 99, 132, 0.6)'
          ],
          borderWidth:1,
          borderColor:'#777',
          hoverBorderWidth:3,
          hoverBorderColor:'#000'
        }]
      },
      options:{
        title:{
          display:true,
          text:'Pie Chart',
          fontSize:25
        },
        legend:{
          display:true,
          position:'right',
          labels:{
            fontColor:'#000'
          }
        },
        layout:{
          padding:{
            left:50,
            right:0,
            bottom:0,
            top:0
          }
        },
        tooltips:{
          enabled:true
        }
      }
    });
  </script>
                                </blockquote>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        {% endfor %}
        {% else %}
        {% if messages %}
        <div class="bg-danger text-white text-center">
            {% for message in messages %}
            {{message}}
            {% endfor %}
        </div>
        {% endif %}

        <div class="jumbotron jumbotron-fluid vh-91p3 d-flex align-items-center">
            <div class="container">
                <h1 class="display-4 text-center">Hello, {{user.username}}</h1>
                <p class="lead text-center">Discover which career pathway is right for you with RIASEC test.</p>
                <div class="d-flex justify-content-center">
                    <p><a class="btn riasec-btn btn-lg mx-1" href="#learnmore" role="button">Learn more</a></p>
                    <p><a class="btn riasec-btn btn-lg mx-1" href="{% url 'riasec:test' %}" role="button">Take a
                        test</a>
                    </p>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
    <div id='learnmore' class="container-fluid my-5">
        <div class="riasec-dfn-container">
            <h1>What is RIASEC Test?</h1>

            <p><dfn>RIASEC</dfn> stands for 6 characteristics: Realistic, Investigative, Artistic, Social, Enterprising,
                and
                Conventional. The RIASEC test asks questions about your aspirations, activities, skills, and interests
                in
                different jobs to help you discover careers and fields of study that are likely to satisfy you</p>
        </div>

        <div class="row">
            <div class="col">
                <div class="riasec-mini-container">
                    <h2 class="mt-2">R = Realistic</h2>
                    <hr>
                    <p>These people are often good at mechanical or athletic
                        jobs. Good college majors for Realistic people are:</p>
                    <div class="row">
                        <div class="col">
                            <ul>
                                <li>Agriculture</li>
                                <li>Health Assistant</li>
                                <li>Computers</li>
                                <li>Construction</li>
                                <li>Mechanic/Machinist</li>
                                <li>Engineering</li>
                                <li>Food and Hospitality</li>
                            </ul>
                        </div>
                        <div class="col">
                            <h5>Related Pathways</h5>
                            <ul>
                                <li>Food and Hospitality</li>
                                <li>Health Services</li>
                                <li>Industrial and Engineering
                                    Technology
                                </li>
                                <li>Arts and Communication
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="riasec-mini-container">
                    <h2 class="mt-2">I = Investigative</h2>
                    <hr>
                    <p>These people like to watch, learn, analyze and solve
                        problems. Good college majors for Investigative
                        people are:</p>
                    <div class="row">
                        <div class="col">
                            <ul>
                                <li>Marine Biology</li>
                                <li>Engineering</li>
                                <li>Chemistry</li>
                                <li>Zoology</li>
                                <li>Medicine/Surgery</li>
                                <li>Consumer Economics</li>
                                <li>Psychology</li>
                            </ul>
                        </div>
                        <div class="col">
                            <h5>Related Pathways</h5>
                            <ul>
                                <li>Health Services</li>
                                <li>Business</li>
                                <li>Public and Human Services</li>
                                <li>Industrial and Engineering
                                    Technology
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="riasec-mini-container">
                    <h2 class="mt-2">A = Artistic</h2>
                    <hr>
                    <p>These people like to work in unstructured situations
                        where they can use their creativity. Good majors for
                        Artistic people are:</p>
                    <div class="row">
                        <div class="col">
                            <ul>
                                <li>Communications</li>
                                <li>Cosmetology</li>
                                <li>Fine and Performing Arts</li>
                                <li>Photography</li>
                                <li>Radio and TV</li>
                                <li>Interior Design</li>
                                <li>Architecture</li>
                            </ul>
                        </div>
                        <div class="col">
                            <h5>Related Pathways</h5>
                            <ul>
                                <li>Public and Human Services</li>
                                <li>Arts and Communication</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="riasec-mini-container">
                    <h2 class="mt-2">S = Social</h2>
                    <hr>
                    <p>These people like to work with other people,
                        rather than things. Good college majors for
                        Social people are:</p>
                    <div class="row">
                        <div class="col">
                            <ul>
                                <li>Counseling</li>
                                <li>Nursing</li>
                                <li>Physical Therapy</li>
                                <li>Travel</li>
                                <li>Advertising</li>
                                <li>Public Relations</li>
                                <li>Education</li>
                            </ul>
                        </div>
                        <div class="col">
                            <h5>Related Pathways</h5>
                            <ul>
                                <li>Health Services</li>
                                <li>Public and Human Services</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="riasec-mini-container">
                    <h2 class="mt-2">E = Enterprising</h2>
                    <hr>
                    <p>These people like to work with others and enjoy
                        persuading and and performing. Good college majors
                        for Enterprising people are:</p>
                    <div class="row">
                        <div class="col">
                            <ul>
                                <li>Fashion Merchandising</li>
                                <li>Real Estate</li>
                                <li>Marketing/Sales</li>
                                <li>Law</li>
                                <li>Political Science</li>
                                <li>International Trade</li>
                                <li>Banking/Finance</li>
                            </ul>
                        </div>
                        <div class="col">
                            <h5>Related Pathways</h5>
                            <ul>
                                <li>Business</li>
                                <li>Public and Human Services</li>
                                <li>Arts and Communication</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="riasec-mini-container">
                    <h2 class="mt-2">C = Conventional</h2>
                    <hr>
                    <p>These people are very detail oriented,organized
                        and like to work with data. Good college majors
                        for Conventional people are</p>
                    <div class="row">
                        <div class="col">
                            <ul>
                                <li>Accounting</li>
                                <li>Court Reporting</li>
                                <li>Insurance</li>
                                <li>Administration</li>
                                <li>Medical Records</li>
                                <li>Banking</li>
                                <li>Data Processing</li>
                            </ul>
                        </div>
                        <div class="col">
                            <h5>Related Pathways</h5>
                            <ul>
                                <li>Health Services</li>
                                <li>Business</li>
                                <li>Industrial and Engineering
                                    Technology
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


{% endblock %}
